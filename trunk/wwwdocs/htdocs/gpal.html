<HTML>

<HEAD>
  <TITLE>
    GPAL
  </TITLE>
</HEAD>

<BODY>

<H1 align=center>
  GPAL
</H1>

<FONT size=4>
  <P>
    gplink
  </P>
</FONT>

<FONT size=3>
  <P>
    Earlier this year I got gplink working. It is the GNUPIC linker. It
    is compatible with Microchip's mplink.  I developed it so users could
    link relocatable objects.
  </P>
  <P>
    Many people have been reluctant to learn the new tool. Most people 
    are comfortable using gpasm in absolute mode and don't see a need to 
    change.
  </P>
  <P>
    I didn't want my effort to be wasted, so I began looking for the next 
    step for gplink.  Something that could justify the work I did.  The 
    obvious choice was to use it to link compiler outputs.
  </P>
  <P>    
    There are a few open source high level languages for PICs.  Most of
    them read all of the source files and output one large absolute 
    assembly file.  I thought that I could modify one of the compilers
    to use gputils as its backend tools.  This would not only achieve
    my goal, but also be benefical to the users.
  </P>
</FONT>

<FONT size=4>
  <P>
    Requirements
  </P>
</FONT>

<FONT size=3>
  <P>    
    So earlier this summer, I searched for a good candidate. Here were my
    requirements:
  </P>
  
  <UL>
  <LI>
  <P>
    Licensing that would allow the source to be modified and redistributed.
  </P>
  <LI>
  <P>
    Written in C or C++.
  </P>
  <LI>
  <P>
    Compiler maintainers/developers receptive to my goals and using gputils.
  </P>
  <LI>
  <P>
    It must be in active development. No dead compilers.
  </P>
  <LI>
  <P>
    Compiler is basically functioning.
  </P>
  </LI>
  </UL>
  
</FONT>

<FONT size=4>
  <P>
    The Options
  </P>
</FONT>


<FONT size=3>
  <P>
    This basically left two options, SDCC and JAL.
  </P>
  <P>
    The SDCC PIC port really isn't finished, so it doesn't completely satisfy
    my requirements.  It is close enough to consider. A bigger problem 
    for me is that it is a C compiler.  I like C, but IMHO it isn't a good
    match for PICs.
  </P>
  <P>    
    SDCC will be a good compiler when it is finished.  When they are ready, I
    will gladly help its developers use gputils.
  </P> 
  <P>    
    Jal was the other candidate. Is is a very good Pascal like language.
    It was recently released under GPL. I proposed creating a relocatable
    version of Jal. I got a 
    <A href="http://groups.yahoo.com/group/Jal_developers/message/303">luke warm 
    reception</A> to this idea from the GPL JAL developers. If I did this 
    and it was successful, it would probably end up
    <A href="http://www.linuxhacker.org/cgi-bin/ezmlm-cgi?1:mss:2114:fepfflpeabgiagjanikg">forking</A> 
    the project. Which wouldn't be healthy for Jal or it's current users. 
  </P> 
</FONT>

<FONT size=4>
  <P>
    The plot thickens...
  </P>
</FONT>

<FONT size=3>
  <P>    
    Byron Jeff asked the question, <A 
   
href="http://www.linuxhacker.org/cgi-bin/ezmlm-cgi?1:mss:2087:fepfflpeabgiagjanikg">"Should 
    Jal be added to gputils?"</A>. I had already decided not to go with Jal, but 
    Byron brought up a good point.  Up until then, I was only looking for an external
    compiler to modify for use with gputils.  Maybe the right answer is to put a
    compiler in gputils.
  </P>
  <P>    
    Doing that has some very good advantages. It would be 
    tightly integrated with gputils. It could reuse much of the existing code in
    the gputils library. The only dissenting voice I heard was that we would be 
    creating the defacto language for GNUPIC. Although, if successful, that 
    could happen, nobody has to use it.
  </P>
  <P>    
    Although it doesn't fit all my requirements, I decided to create my own PIC language.
  </P>
</FONT>

<FONT size=4>
  <P>
    What is gpal?
  </P>
</FONT>

<FONT size=3>
  <P>    
    GPAL is the GNU PIC Algorithmic Language. It is a very simple Ada like 
    language for Microchip PIC microcontrollers.  The language is still 
    being defined, so I will have to provide the details later.
  </P>
  <P>    
    I expect many people are going to ask why the new compiler won't be a C like
    language.  An SDCC PIC port is already started, that should be the standard 
    GNU PIC C compiler.  I believe its goal is to be a optimizing ANSI C compiler.
    If I did a C compiler, it would probably be a subset compiler at the most.
  </P>
  <P>    
    The new tool is a work in progress. It is in gputils CVS on a gpal branch. 
    I have compiled and linked my first project.  The code needs some 
    cleanup, many bugs need to be fixed, the optimizer is far from complete, 
    and the documentation is nonexistent, but I am encouraged by the work
    accomplished so far.
  </P>
</FONT>

<FONT size=4>
  <P>
    The Future
  </P>
</FONT>

<FONT size=3>
  <P>    
    This has been my attempt to explain why I am creating gpal.  You may not 
    agree with me or my reasons.  I hope that gpal will be useful.
    Only the future will tell.
  </P>
  <P>    
    More information will follow later.  Expect an alpha verison in a few 
    weeks.
  </P>
</FONT>

<P></P>

<TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
  <COLGROUP>
  <COL width=164>
  <COL width=92>
  <TBODY>
  <TR>
    <TD width="64%">
      <P>
        <I>This Site Hosted by:</I>
      </P>
      <P>
        <A href="http://sourceforge.net/"><IMG height=31 alt=SourceForge src="" 
         width=88 align=bottom border=0 name=Graphic1></A>
      </P>
    </TD>
    <TD vAlign=bottom width="36%">
      <P>
        <A href="mailto:craigfranklin@users.sourceforge.net">Webmaster</A>
      </P>
      <P>
        Last updated: December 12, 2003
      </P>
    </TD>
  </TR>
  </TBODY>
</TABLE>

</BODY>

</HTML>
